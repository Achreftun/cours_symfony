{% extends 'base.html.twig' %}

{% block title %}Hello PersonneController!
{% endblock %}

{% block body %}
	<style>
		.example-wrapper {
			margin: 1em auto;
			max-width: 800px;
			width: 95%;
			font: 18px / 1.5 sans-serif;
		}
		.example-wrapper code {
			background: #F5F5F5;
			padding: 2px 6px;
		}
	</style>

	<div class="example-wrapper">
		<h1>Hello
			{{ controller_name }}! ✅</h1>
		<p>
			<a href="{{ path('app_personne_new') }}">Cliquer pour ajouter une nouvelle personne</a>
		</p>
		<ul>
			{% for p in personnes %}
				<li>
					{{ p.prenom }}
					{{ p.nom }}
					<a href="{{ path('app_personne_delete', { id: p.id }) }}">supprimer</a>,
					<a href="{{ path('app_personne_edit', { id: p.id }) }}">éditer</a>
					{% if p.adresse  %}
						<div>
							Adresse :
							{{ p.adresse.rue }}
							{{ p.adresse.codePostal }}
							{{ p.adresse.ville }}
						</div>
					{% endif %}
					{% if p.commentaires | length > 0  %}
						<div>
							Commentaires :
							{% for c in p.commentaires %}
								<br>{{ c.titre }}
								{{ c.contenu }}
							{% endfor %}
						</div>
					{% endif %}
					{% if p.sports | length > 0  %}
						<div>
							Sports :
							{% for s in p.sports %}
								<br>
								{{ s.nom }}
								{{ s.type }}
							{% endfor %}
						</div>
					{% endif %}
				</li>

			{% endfor %}
		</ul>


	</div>
{% endblock %}
